<main class="detail_crud">
  <header>
    <h2>
      {{ data.id ? 'Editar' : 'Adicionar' }} variação
    </h2>

    <button aria-label="Fechar" mat-icon-button (click)="closeModal()">
      <i icon="xmark"></i>
    </button>
  </header>

  <form (ngSubmit)="formHandleSubmit()" [formGroup]="form">
    <div class="card_input">
      <label for="name">Nome</label>
      <input type="text" id="name" formControlName="name" />
    </div>

    <div class="card_input">
      <label for="price">Preço</label>
      <input type="text" id="price" prefix="R$ " formControlName="price" mask="separator.2" thousandSeparator="." />
    </div>

    <div class="card_input">
      <label for="product">Produto</label>
      <select id="product" formControlName="product_id">
        <option value="">Selecione um produto</option>
        <option *ngFor="let product of products" [value]="product.id">
          {{ product.name }}
        </option>
      </select>
    </div>

    <div class="card_input">
      <label for="image">Imagens</label>
      <label for="image" class="style">
        <img *ngIf="form.value?.image" [src]="form.value.image" alt="">
        <span *ngIf="!form.value?.image">Selecione uma imagem</span>
      </label>
      <input inputFile (upload)="newImage($event)" type="file" id="image" />
    </div>

    <div class="card_buttons">
      <button type="button" mat-raised-button (click)="closeModal()">
        Cancelar
      </button>
      <button type="submit" mat-raised-button [disabled]="form.invalid">
        {{ data.id ? 'Editar' : 'Adicionar' }}
      </button>
    </div>
  </form>
</main>